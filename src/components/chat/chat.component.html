<div class="flex flex-col h-full bg-gray-50">
  <header class="bg-white p-4 border-b">
    <h1 class="text-xl font-bold text-center text-gray-800">Emergency Mesh Chat</h1>
    <div class="flex items-center justify-center text-sm text-yellow-600 bg-yellow-100 p-2 mt-2 rounded-md">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.21 3.03-1.742 3.03H4.42c-1.532 0-2.492-1.696-1.742-3.03l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z" clip-rule="evenodd" />
      </svg>
      No Internet - Using local mesh network (UI DEMO ONLY)
    </div>
  </header>

  <div class="flex-grow p-4 overflow-y-auto">
    <div class="space-y-4">
      @for (msg of messages(); track $index) {
        @if (msg.type === 'sent') {
          <div class="flex justify-end">
            <div class="bg-blue-500 text-white p-3 rounded-lg max-w-xs">
              <p>{{ msg.text }}</p>
              <span class="text-xs text-blue-200 block text-right mt-1">{{ msg.time }}</span>
            </div>
          </div>
        } @else {
          <div class="flex justify-start">
            <div class="bg-white p-3 rounded-lg max-w-xs border">
              <p class="font-semibold text-sm text-purple-600">{{ msg.sender }}</p>
              <p>{{ msg.text }}</p>
              <span class="text-xs text-gray-500 block text-right mt-1">{{ msg.time }}</span>
            </div>
          </div>
        }
      }
    </div>
  </div>

  <footer class="bg-white p-4 border-t">
    <div class="flex items-center space-x-2">
      <button class="text-gray-500 p-2 rounded-full hover:bg-gray-100">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
      </button>
      <input type="text" [(ngModel)]="message" (keyup.enter)="sendMessage()" placeholder="Type a message..." class="flex-grow p-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500">
      <button (click)="sendMessage()" class="bg-blue-500 text-white p-2 rounded-full hover:bg-blue-600">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
      </button>
      <button class="bg-red-500 text-white p-2 rounded-full font-bold hover:bg-red-600">SOS</button>
    </div>
  </footer>
</div>
